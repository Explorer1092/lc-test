{"version":3,"file":"index.js","sources":["../src/audioModel/core/Widgets.ts","../src/audioModel/core/AudioCore.ts","../src/audioModel/platforms/web/index.ts","../src/audioModel/platforms/mobile/index.ts","../src/audioModel/index.ts"],"sourcesContent":["export class Widgets {\n  query(dom: string) {\n    var element = document.querySelector(dom)\n    if (!element) {\n      throw new Error('cannot find element ' + element)\n    }\n    return element\n  }\n\n  // 生成一个随机的字符串\n  uuid(): string {\n    let s: any[] = []\n    let hexDigits: string = '0123456789abcdef'\n    for (let i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\n    }\n    s[14] = '4' // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1) // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = '-'\n\n    let uuid: any = s.join('')\n    return uuid\n  }\n\n  // 时间转化方法\n  formatTime(time: number): string {\n    let seconds: number | string = Math.round(time),\n      minutes: number | string = Math.floor(time / 60)\n    ;(minutes = minutes >= 10 ? minutes : '0' + minutes),\n      (seconds = Math.floor(time % 60)),\n      (seconds = seconds >= 10 ? seconds : '0' + seconds)\n\n    return minutes + ':' + seconds\n  }\n\n  // 合并对象方法\n  merge(obj1: object, obj2: object): any {\n    let obj = Object.assign(obj1, obj2)\n    return obj\n  }\n\n  // 获取元素位置\n  getPosition(node: any) {\n    let left: any = node.offsetLeft //获取元素相对于其父元素的left值let var left\n    let top: any = node.offsetTop\n    let current: any = node.offsetParent // 取得元素的offsetParent // 一直循环直到根元素\n    while (current != null) {\n      left += current.offsetLeft\n      top += current.offsetTop\n      current = current.offsetParent\n    }\n    return {\n      left: left,\n      top: top\n    }\n  }\n}\n","import { Widgets } from './Widgets'\n/// <reference path=\"../typings/audioTypes.d.ts\" />\n\n/*\n * @class 音频播放\n * @params：\n */\n\nexport class AudioCore extends Widgets {\n  // 音频id, 避免重复创建多个音频\n  private id: string = ''\n\n  // 音频链接地址\n  public url: string = ''\n\n  // 音频对象\n  public audio: any = null\n\n  // 音频是否自动播放\n  public autoPlay: boolean = false\n\n  // 音频对象的总时长\n  public duration: string = '00:00'\n\n  // 音频当前播放的时长\n  public currentTime: string = '00:00'\n\n  // 当音频时间改变出发的方法； 即原生audio的timeupdate事件的回调函数\n  public timeUpdateFn: () => void\n\n  // 当音频开始缓存时触发的方法； 即原生audio的progress方法；\n  public cacheFn: () => void\n\n  // 当音频播放完成之后出发的方法；即原生audio的ended方法；\n  public endedFn: () => void\n\n  // 音频状态改变时触发的函数\n  public audioStatusChange: () => void\n\n  // 音频发生错误时触发的方法\n  public errorFn: () => void\n\n  // oncanplay，onloadedmetadata，onwaiting，onerror\n  public canplay: () => void\n\n  // 在音频的元数据加载后执行 JavaScript\n  public loadedmetadata: () => void\n\n  // 在音频由于要播放下一帧而需要缓冲时执行 JavaScript\n  public waiting: () => void\n\n  // 进度条相关数据\n  public progressData: AudioTypes.ProgressData = {}\n\n  // 音量相关数据\n  public volumeData: AudioTypes.VolumeData = {}\n\n  // 缓存音频的音量\n  public volumeCache: number = 1\n\n  // 拖拽功能相关\n  public touchData: AudioTypes.touchData = {\n    initiated: false,\n    startX: 0,\n    left: 0\n  }\n\n  // 音量拖拽相关\n  public volumeTouch: AudioTypes.touchData = {\n    initiated: false,\n    startX: 0,\n    left: 0\n  }\n\n  // 进度条默认的样式\n  private progressStyle: AudioTypes.ProgressStyle = {\n    wrapper: {\n      width: '80%',\n      height: '0.1rem',\n      background: 'rgba(0,0,0,0.3)',\n      position: 'relative',\n      'border-radius': '100px'\n    },\n    cache: {\n      height: '100%',\n      width: '0',\n      position: 'absolute',\n      background: '#ccc',\n      top: 0,\n      left: 0,\n      margin: 0,\n      'border-radius': '100px'\n    },\n    current: {\n      height: '100%',\n      width: '0',\n      position: 'absolute',\n      background: '#ffcd32',\n      top: 0,\n      left: 0,\n      margin: 0,\n      'border-radius': '100px',\n      'z-index': 10\n    },\n    indicator: {\n      position: 'absolute',\n      width: '0.2rem',\n      height: '0.2rem',\n      ' border-radius': '50%',\n      background: '#fff',\n      right: '-0.05rem',\n      top: '-0.05rem'\n    }\n  }\n\n  // 音频默认的样式\n  private volumeStyle: AudioTypes.VolumeStyle = {\n    current: {\n      width: '100%',\n      height: '0rem',\n      background: '#f00',\n      'border-radius': '1rem',\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      'z-index': 10,\n      margin: 0\n    },\n    wrapper: {\n      width: '.1rem',\n      height: '1.4rem',\n      background: '#555',\n      'border-radius': '100px',\n      position: 'relative',\n      transform: 'rotate(180deg)'\n    },\n    indicator: {\n      position: 'absolute',\n      width: '0.2rem',\n      height: '0.2rem',\n      ' border-radius': '50%',\n      background: '#ccc',\n      right: '-0.05rem',\n      bottom: '-0.05rem',\n      'pointer-events': 'none'\n    }\n  }\n\n  constructor(options: any) {\n    super()\n\n    // 合并配置， 初始化音频\n    Object.keys(options).forEach(key => (this[key] = options[key]))\n\n    console.log(this.audioStatusChange)\n    this.init()\n  }\n\n  /*\n   *  @func: 初始化音频\n   *  @return: void\n   */\n  public init(): void {\n    this.audio = new Audio()\n\n    // 设置一个唯一表示id\n    this.audio.id = this.uuid()\n    this.audio.src = this.url\n    // this.audio.autoplay = this.autoPlay\n    this.audio.volume = this.volumeCache\n    this.duration =\n      this.audio.duration.toString() === 'NaN'\n        ? ''\n        : this.formatTime(this.audio.duration)\n\n    // 初始化进度条， 音频调整\n    this.initProgress()\n    this.initVolume()\n    // 初始化音频事件\n    this.initEvent()\n  }\n\n  /**\n   *  @func 初始化audio事件中心\n   */\n  private initEvent(): void {\n    let audio = this.audio,\n      self = this\n\n    // Listen for audio errors\n    audio.addEventListener(\n      'error',\n      function(e) {\n        self.errorEvent(e)\n\n        self.errorFn && self.errorFn.apply(self, arguments)\n      },\n      false\n    )\n\n    // loadedmetadata\n    audio.addEventListener(\n      'loadedmetadata',\n      function() {\n        self.loadedmetadata && self.loadedmetadata.apply(self, arguments)\n      },\n      false\n    )\n\n    // n\n    audio.addEventListener(\n      'waiting',\n      function() {\n        self.waiting && self.waiting.apply(self, arguments)\n      },\n      false\n    )\n\n    // Listen for audio canplay\n    audio.addEventListener(\n      'canplay',\n      function() {\n        self.canplayEvent()\n        //  用户自定义开发事件oncanplay，onloadedmetadata，onwaiting，onerror\n        self.canplay && self.canplay.apply(self, arguments)\n      },\n      false\n    )\n\n    // 音频改变时触发的事件\n    audio.addEventListener(\n      'timeupdate',\n      function() {\n        // 更新进度条\n        self.progressChange(2)\n\n        // 更新音频播放时间\n        self.currentTime = self.formatTime(self.audio.currentTime)\n\n        self.timeUpdateFn && self.timeUpdateFn.apply(self, arguments)\n      },\n      false\n    )\n\n    // 进度条开始缓存时触发的事件\n    audio.addEventListener(\n      'progress',\n      function() {\n        self.progressChange(1)\n        self.cacheFn && self.cacheFn.apply(self, arguments)\n      },\n      false\n    )\n\n    // 音频播放结束后出发的方法\n    audio.addEventListener(\n      'ended',\n      function() {\n        const { current } = self.progressData.refs\n\n        current.style.width = 0\n        self.currentTime = '00:00'\n        self.endedFn && self.endedFn.apply(self, arguments)\n      },\n      false\n    )\n  }\n\n  /**\n   * @func 切换音频播放状态\n   * @param state: 是否播放;  callback 切换玩状态后的回调函数\n   */\n  public togglePlay(state: boolean): void {\n    state ? this.audio.play() : this.audio.pause()\n\n    // 执行用户传入的回调函数\n    this.audioStatusChange()\n  }\n\n  /**\n   * @func 实时更新进度条\n   * @param element: dom元素， type：1 音频进度条， 2 缓存进度条\n   *\n   */\n  private progressChange(type: number): void {\n    if (\n      !(\n        !this.audio.progressReady &&\n        this.progressData.showProgress &&\n        this.progressData.parent\n      )\n    ) {\n      return\n    }\n\n    let audio = this.audio,\n      wrapperWidth = this.progressData.refs.wrapper.clientWidth,\n      { current, cache } = this.progressData.refs\n\n    // 缓存进度条\n    if (type === 1) {\n      let timeRanges = audio.buffered,\n        timeBuffered =\n          timeRanges.length > 0 ? timeRanges.end(timeRanges.length - 1) : 0\n\n      // if(timeRanges && timeBuffered >= 0) { return }\n      cache.style.width = wrapperWidth * (timeBuffered / audio.duration) + 'px'\n      return\n    }\n\n    current.style.width =\n      wrapperWidth * (audio.currentTime / audio.duration) + 'px'\n  }\n\n  /*\n   * 初始化音频的进度条\n   */\n  private initProgress(): void {\n    if (\n      !this.audio.progressReady &&\n      this.progressData.showProgress &&\n      this.progressData.parent\n    ) {\n      this.createProgress()\n      return\n    }\n  }\n\n  // 创建进度条\n  private createProgress(): any {\n    let domText = `<div class=\"progress-wrapper\"><p class=\"cache\"></p> <p class=\"current\">\n                        <span class=\"indicator\"></span></p></div>`,\n      self = this\n\n    this.query(this.progressData.parent).innerHTML = domText\n\n    // 存储Dom结构\n    this.progressData.refs = {\n      wrapper: this.query('.progress-wrapper'),\n      cache: this.query('.cache'),\n      current: this.query('.current'),\n      indicator: this.query('.indicator')\n    }\n\n    // 添加样式\n    Object.keys(this.progressData.refs).forEach(key => {\n      this.setStyle(this.progressData.refs[key], this.progressStyle[key])\n\n      // 合并传入的样式\n      if (this.progressData.style && this.progressData.style[key]) {\n        this.setStyle(this.progressData.refs[key], this.progressData.style[key])\n      }\n    })\n\n    const { wrapper } = this.progressData.refs\n    wrapper.addEventListener('click', self.progressClick.bind(this))\n  }\n\n  // 进度条点击功能， 直接更新进度\n  private progressClick(event: any): void {\n    const { wrapper, label, current, indicator } = this.progressData.refs\n\n    let target = event.srcElement || event.target\n\n    if (target === indicator) {\n      return\n    }\n\n    let offsetWidth = Math.min(wrapper.clientWidth, Math.max(0, event.offsetX))\n\n    current.style.width = offsetWidth + 'px'\n\n    // 同步audio的进度\n    this.audio.currentTime =\n      this.audio.duration * (current.clientWidth / wrapper.clientWidth)\n  }\n\n  // 初始化音频播放\n  private initVolume(): void {\n    if (\n      !this.audio.volumeReady &&\n      this.volumeData.showVolume &&\n      this.volumeData.parent\n    ) {\n      this.createVolume()\n      return\n    }\n  }\n\n  // 创建音量条\n  private createVolume(): void {\n    let htmlText = `<div class=\"volumn-wrapper\"> <p class=\"current-volumn\"><span class=\"volumn-indicator\"></span></p>\n                        </div>`,\n      self = this\n\n    this.query(this.volumeData.parent).innerHTML = htmlText\n\n    // 如果用户传入了label\n    if (this.volumeData.label) {\n      this.volumeData.labelDom = this.query(this.volumeData.label)\n    }\n    // 存储Dom结构\n    this.volumeData.refs = {\n      wrapper: this.query('.volumn-wrapper'),\n      current: this.query('.current-volumn'),\n      indicator: this.query('.volumn-indicator')\n    }\n\n    // 添加样式\n    Object.keys(this.volumeData.refs).forEach(key => {\n      this.setStyle(this.volumeData.refs[key], this.volumeStyle[key])\n\n      // 合并传入的样式\n      if (this.volumeData.style && this.volumeData.style[key]) {\n        this.setStyle(this.volumeData.refs[key], this.volumeData.style[key])\n      }\n    })\n\n    // 判断音频进度条方向\n    this.volumeData.direction =\n      this.volumeData.refs.wrapper.clientHeight >\n      this.volumeData.refs.wrapper.clientWidth\n        ? 'vertical'\n        : 'horizontal'\n\n    // 添加事件\n    const { wrapper, current } = this.volumeData.refs\n    if (this.volumeData.direction === 'vertical') {\n      current.style.height = wrapper.clientHeight * (this.volumeCache / 1)\n    } else {\n      current.style.width = wrapper.clientWidth * (this.volumeCache / 1)\n    }\n\n    wrapper.addEventListener('click', self.volumeChange.bind(this))\n    this.volumeData.labelDom &&\n      this.volumeData.labelDom.addEventListener(\n        'click',\n        self.volumeStatusChange.bind(this)\n      )\n  }\n\n  // 点击音频条触发的事件\n  private volumeChange(event: any): void {\n    const { wrapper, label, current } = this.volumeData.refs\n\n    let offset: number = 0\n\n    if (this.volumeData.direction === 'vertical') {\n      offset = Math.min(wrapper.clientHeight, Math.max(0, event.offsetY))\n      current.style.height = offset + 'px'\n\n      // 同步audio的音量\n      this.volumeCache = this.audio.volume =\n        current.clientHeight / wrapper.clientHeight\n    } else {\n      offset = Math.min(wrapper.clientWidth, Math.max(0, event.offsetX))\n\n      current.style.width = offset + 'px'\n\n      // 同步audio的音量\n      this.volumeCache = this.audio.volume =\n        current.clientWidth / wrapper.clientWidth\n    }\n  }\n\n  // 点击音频的label改变音频是否静音的状态\n  private volumeStatusChange(): void {\n    const { wrapper, label, current } = this.volumeData.refs\n\n    // 还原之前的状态\n    if (this.volumeData.direction === 'vertical') {\n      if (parseFloat(this.audio.volume) === 0) {\n        current.style.height =\n          wrapper.clientHeight * (this.volumeCache / 1) + 'px'\n        return\n      }\n\n      this.audio.volume = 0\n      current.style.height = 0\n    } else {\n      if (parseFloat(this.audio.volume) === 0) {\n        this.audio.volume = this.volumeCache\n\n        current.style.width =\n          wrapper.clientWidth * (this.volumeCache / 1) + 'px'\n        return\n      }\n\n      this.audio.volume = 0\n      current.style.width = 0\n    }\n  }\n\n  // 添加样式\n  private setStyle(element: any, style: any): void {\n    let styles = element.getAttribute('style')\n      ? element.getAttribute('style')\n      : ''\n\n    Object.keys(style).forEach(function(key) {\n      styles += key + ':' + style[key] + ';'\n      element.setAttribute('style', styles)\n    })\n  }\n\n  // 音频播放出错时， 出发的方法\n  public errorEvent(event: any) {\n    // console.error(`audio error: ${event} :  audio error:  ${this.audio.error}`)\n    // console.error(this.audio.error)\n\n    this.errorFn && this.errorFn.apply(this, arguments)\n  }\n\n  // 音频可以播放时，触发的事件\n  public canplayEvent() {\n    this.duration = this.formatTime(this.audio.duration)\n\n    // 如果设置了自动播放， 那么自动播放音频\n    if (this.autoPlay) {\n      this.togglePlay(true)\n    }\n  }\n\n  // 刷新音频操作\n  public refresh(): void {\n    this.query(this.progressData.parent).innerHTML = ''\n    this.audio.src = null\n\n    this.initProgress()\n    this.initEvent()\n  }\n}\n\n// mixin模式混入\n","import { AudioCore } from '../../core/AudioCore'\n\nexport class AudioModelPc extends AudioCore {\n  constructor(options: any) {\n    super(options)\n\n    this.initAudioPcProgress()\n    this.initAudioPcVolume()\n  }\n\n  public initAudioPcVolume(): void {\n    if (!this.volumeData.showVolume || !this.volumeData.parent) {\n      return\n    }\n\n    const { wrapper } = this.volumeData.refs\n    let self = this\n\n    // 音量条添加相应的事件\n    wrapper.addEventListener('mousedown', self.volumeMouseDown.bind(self))\n    wrapper.addEventListener('mousemove', self.volumeMouseMove.bind(self))\n    wrapper.addEventListener('mouseup', self.volumeMouseUp.bind(self))\n    wrapper.addEventListener('mouseleave', self.volumeMouseUp.bind(self))\n  }\n\n  public volumeMouseDown(event: any): void {\n    const { current, wrapper } = this.volumeData.refs\n\n    this.volumeTouch = {\n      initiated: true,\n      startX:\n        this.volumeData.direction === 'vertical'\n          ? this.getPosition(wrapper).top\n          : this.getPosition(wrapper).left,\n      left: current.clientWidth\n    }\n  }\n\n  public volumeMouseMove(event: any): void {\n    let { wrapper, current, indicator } = this.volumeData.refs\n\n    if (!this.volumeTouch.initiated) {\n      return\n    }\n\n    let offset: number = 0\n\n    // console.log(this.volumeData.direction === 'vertical')\n    if (this.volumeData.direction === 'vertical') {\n      offset = Math.min(wrapper.clientHeight, Math.max(0, event.offsetY))\n      current.style.height = offset + 'px'\n\n      // 同步audio的音量\n      this.volumeCache = this.audio.volume =\n        current.clientHeight / wrapper.clientHeight\n    } else {\n      offset = Math.min(\n        wrapper.clientWidth,\n        Math.max(0, event.clientX - this.volumeTouch.startX)\n      )\n\n      // 更新音频的播放时间\n      current.style.width = offset + 'px'\n\n      // 同步audio的音量\n      this.volumeCache = this.audio.volume =\n        current.clientWidth / wrapper.clientWidth\n    }\n  }\n\n  public volumeMouseUp(): void {\n    let { wrapper, current } = this.volumeData.refs\n\n    this.volumeTouch.initiated = false\n  }\n\n  // 初始化pc端播放单元\n  public initAudioPcProgress(): void {\n    if (\n      !(\n        !this.audio.progressReady &&\n        this.progressData.showProgress &&\n        this.progressData.parent\n      )\n    ) {\n      return\n    }\n\n    const { wrapper, indicator } = this.progressData.refs\n    let self = this\n\n    // 进度条添加相应的事件\n    wrapper.addEventListener('mousedown', self.progressMouseDown.bind(self))\n    wrapper.addEventListener('mousemove', self.progressMouseMove.bind(self))\n    wrapper.addEventListener('mouseup', self.progressMouseUp.bind(self))\n    wrapper.addEventListener('mouseleave', self.progressMouseUp.bind(self))\n  }\n\n  public progressMouseDown(event: any): void {\n    const { current, wrapper } = this.progressData.refs\n\n    this.touchData = {\n      initiated: true,\n      startX: this.getPosition(wrapper).left,\n      left: current.clientWidth\n    }\n\n    this.togglePlay(false)\n  }\n\n  public progressMouseMove(event: any): void {\n    let { wrapper, current, indicator } = this.progressData.refs\n\n    if (!this.touchData.initiated) {\n      return\n    }\n\n    let offsetWidth = Math.min(\n      wrapper.clientWidth,\n      Math.max(0, event.clientX - this.touchData.startX)\n    )\n\n    // 更新音频的播放时间\n    current.style.width = offsetWidth + 'px'\n  }\n\n  public progressMouseUp(): void {\n    let { wrapper, current } = this.progressData.refs\n    if (this.touchData.initiated) {\n      this.touchData.initiated = false\n\n      this.audio.currentTime =\n        this.audio.duration * (current.clientWidth / wrapper.clientWidth)\n\n      if (this.audio.paused) {\n        this.togglePlay(true)\n      }\n    }\n  }\n\n  public refreshInstance(): void {\n    this.refresh()\n    this.initAudioPcProgress()\n  }\n}\n\n// ts里面super具体的作用\n","import { AudioCore } from '../../core/AudioCore'\n\nexport class AudioModelMobile extends AudioCore {\n  constructor(options: any) {\n    super(options)\n\n    this.initAudioMobile()\n  }\n\n  // 初始化pc端播放单元\n  public initAudioMobile(): void {\n    if (\n      !(\n        !this.audio.progressReady &&\n        this.progressData.showProgress &&\n        this.progressData.parent\n      )\n    ) {\n      return\n    }\n\n    const { wrapper, indicator } = this.progressData.refs\n    let self = this\n\n    // 进度条添加相应的事件\n    indicator.addEventListener('touchstart', self.progressTouchStart.bind(this))\n    indicator.addEventListener('touchmove', self.progressTouchMove.bind(this))\n    indicator.addEventListener('touchend', self.progressTouchEnd.bind(this))\n  }\n\n  private progressTouchStart(e: any): void {\n    const { current, wrapper } = this.progressData.refs\n    this.touchData = {\n      initiated: true,\n      startX: e.touches[0].pageX,\n      left: current.clientWidth\n    }\n\n    // 暂停音频， 拖拽结束后在播放\n    this.togglePlay(false)\n  }\n\n  public progressTouchMove(e: any): void {\n    let { wrapper, current } = this.progressData.refs\n    e.preventDefault()\n\n    if (!this.touchData.initiated) {\n      return\n    }\n\n    let deltaX = e.touches[0].pageX - this.touchData.startX\n    let offsetWidth = Math.min(\n      wrapper.clientWidth,\n      Math.max(0, this.touchData.left + deltaX)\n    )\n\n    // 更新音频的播放时间\n    current.style.width = offsetWidth + 'px'\n  }\n\n  public progressTouchEnd(): void {\n    let { wrapper, current } = this.progressData.refs\n\n    this.touchData.initiated = false\n\n    this.audio.currentTime =\n      this.audio.duration * (current.clientWidth / wrapper.clientWidth)\n\n    if (this.audio.paused) {\n      this.togglePlay(true)\n    }\n  }\n}\n","import { AudioModelPc } from './platforms/web/index'\nimport { AudioModelMobile } from './platforms/mobile/index'\n\nexport { AudioModelPc, AudioModelMobile }\n\nexport const renderAudio = (options): any => {\n  // 如果是移动端， 那么实力话移动端的audioModel\n  let reg = /Android|webOS|iPhone|iPod|BlackBerry|iPad/i\n\n  if (reg.test(navigator.userAgent)) {\n    return new AudioModelMobile(options)\n  }\n\n  return new AudioModelPc(options)\n}\n"],"names":[],"mappings":";;;;;;QAAa,OAAO;MAClB,KAAK,CAAC,GAAW;UACf,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAA;UACzC,IAAI,CAAC,OAAO,EAAE;cACZ,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,OAAO,CAAC,CAAA;WAClD;UACD,OAAO,OAAO,CAAA;OACf;;MAGD,IAAI;UACF,IAAI,CAAC,GAAU,EAAE,CAAA;UACjB,IAAI,SAAS,GAAW,kBAAkB,CAAA;UAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;cAC3B,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAA;WAC7D;UACD,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAA;UACX,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC,CAAA;UAChD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAA;UAElC,IAAI,IAAI,GAAQ,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;UAC1B,OAAO,IAAI,CAAA;OACZ;;MAGD,UAAU,CAAC,IAAY;UACrB,IAAI,OAAO,GAAoB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAC7C,OAAO,GAAoB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,CACjD;UAAA,CAAC,OAAO,GAAG,OAAO,IAAI,EAAE,GAAG,OAAO,GAAG,GAAG,GAAG,OAAO;eAChD,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;eAC/B,OAAO,GAAG,OAAO,IAAI,EAAE,GAAG,OAAO,GAAG,GAAG,GAAG,OAAO,CAAC,CAAA;UAErD,OAAO,OAAO,GAAG,GAAG,GAAG,OAAO,CAAA;OAC/B;;MAGD,KAAK,CAAC,IAAY,EAAE,IAAY;UAC9B,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;UACnC,OAAO,GAAG,CAAA;OACX;;MAGD,WAAW,CAAC,IAAS;UACnB,IAAI,IAAI,GAAQ,IAAI,CAAC,UAAU,CAAA;UAC/B,IAAI,GAAG,GAAQ,IAAI,CAAC,SAAS,CAAA;UAC7B,IAAI,OAAO,GAAQ,IAAI,CAAC,YAAY,CAAA;UACpC,OAAO,OAAO,IAAI,IAAI,EAAE;cACtB,IAAI,IAAI,OAAO,CAAC,UAAU,CAAA;cAC1B,GAAG,IAAI,OAAO,CAAC,SAAS,CAAA;cACxB,OAAO,GAAG,OAAO,CAAC,YAAY,CAAA;WAC/B;UACD,OAAO;cACL,IAAI,EAAE,IAAI;cACV,GAAG,EAAE,GAAG;WACT,CAAA;OACF;GACF;;ECvDD;EAEA;;;;AAKA,QAAa,SAAU,SAAQ,OAAO;MA4IpC,YAAY,OAAY;UACtB,KAAK,EAAE,CAAA;;UA3ID,OAAE,GAAW,EAAE,CAAA;;UAGhB,QAAG,GAAW,EAAE,CAAA;;UAGhB,UAAK,GAAQ,IAAI,CAAA;;UAGjB,aAAQ,GAAY,KAAK,CAAA;;UAGzB,aAAQ,GAAW,OAAO,CAAA;;UAG1B,gBAAW,GAAW,OAAO,CAAA;;UA2B7B,iBAAY,GAA4B,EAAE,CAAA;;UAG1C,eAAU,GAA0B,EAAE,CAAA;;UAGtC,gBAAW,GAAW,CAAC,CAAA;;UAGvB,cAAS,GAAyB;cACvC,SAAS,EAAE,KAAK;cAChB,MAAM,EAAE,CAAC;cACT,IAAI,EAAE,CAAC;WACR,CAAA;;UAGM,gBAAW,GAAyB;cACzC,SAAS,EAAE,KAAK;cAChB,MAAM,EAAE,CAAC;cACT,IAAI,EAAE,CAAC;WACR,CAAA;;UAGO,kBAAa,GAA6B;cAChD,OAAO,EAAE;kBACP,KAAK,EAAE,KAAK;kBACZ,MAAM,EAAE,QAAQ;kBAChB,UAAU,EAAE,iBAAiB;kBAC7B,QAAQ,EAAE,UAAU;kBACpB,eAAe,EAAE,OAAO;eACzB;cACD,KAAK,EAAE;kBACL,MAAM,EAAE,MAAM;kBACd,KAAK,EAAE,GAAG;kBACV,QAAQ,EAAE,UAAU;kBACpB,UAAU,EAAE,MAAM;kBAClB,GAAG,EAAE,CAAC;kBACN,IAAI,EAAE,CAAC;kBACP,MAAM,EAAE,CAAC;kBACT,eAAe,EAAE,OAAO;eACzB;cACD,OAAO,EAAE;kBACP,MAAM,EAAE,MAAM;kBACd,KAAK,EAAE,GAAG;kBACV,QAAQ,EAAE,UAAU;kBACpB,UAAU,EAAE,SAAS;kBACrB,GAAG,EAAE,CAAC;kBACN,IAAI,EAAE,CAAC;kBACP,MAAM,EAAE,CAAC;kBACT,eAAe,EAAE,OAAO;kBACxB,SAAS,EAAE,EAAE;eACd;cACD,SAAS,EAAE;kBACT,QAAQ,EAAE,UAAU;kBACpB,KAAK,EAAE,QAAQ;kBACf,MAAM,EAAE,QAAQ;kBAChB,gBAAgB,EAAE,KAAK;kBACvB,UAAU,EAAE,MAAM;kBAClB,KAAK,EAAE,UAAU;kBACjB,GAAG,EAAE,UAAU;eAChB;WACF,CAAA;;UAGO,gBAAW,GAA2B;cAC5C,OAAO,EAAE;kBACP,KAAK,EAAE,MAAM;kBACb,MAAM,EAAE,MAAM;kBACd,UAAU,EAAE,MAAM;kBAClB,eAAe,EAAE,MAAM;kBACvB,QAAQ,EAAE,UAAU;kBACpB,MAAM,EAAE,CAAC;kBACT,IAAI,EAAE,CAAC;kBACP,SAAS,EAAE,EAAE;kBACb,MAAM,EAAE,CAAC;eACV;cACD,OAAO,EAAE;kBACP,KAAK,EAAE,OAAO;kBACd,MAAM,EAAE,QAAQ;kBAChB,UAAU,EAAE,MAAM;kBAClB,eAAe,EAAE,OAAO;kBACxB,QAAQ,EAAE,UAAU;kBACpB,SAAS,EAAE,gBAAgB;eAC5B;cACD,SAAS,EAAE;kBACT,QAAQ,EAAE,UAAU;kBACpB,KAAK,EAAE,QAAQ;kBACf,MAAM,EAAE,QAAQ;kBAChB,gBAAgB,EAAE,KAAK;kBACvB,UAAU,EAAE,MAAM;kBAClB,KAAK,EAAE,UAAU;kBACjB,MAAM,EAAE,UAAU;kBAClB,gBAAgB,EAAE,MAAM;eACzB;WACF,CAAA;;UAMC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,IAAI,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;UAE/D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;UACnC,IAAI,CAAC,IAAI,EAAE,CAAA;OACZ;;;;;MAMM,IAAI;UACT,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAA;;UAGxB,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,EAAE,CAAA;UAC3B,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAA;;UAEzB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAA;UACpC,IAAI,CAAC,QAAQ;cACX,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,KAAK;oBACpC,EAAE;oBACF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;;UAG1C,IAAI,CAAC,YAAY,EAAE,CAAA;UACnB,IAAI,CAAC,UAAU,EAAE,CAAA;;UAEjB,IAAI,CAAC,SAAS,EAAE,CAAA;OACjB;;;;MAKO,SAAS;UACf,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,EACpB,IAAI,GAAG,IAAI,CAAA;;UAGb,KAAK,CAAC,gBAAgB,CACpB,OAAO,EACP,UAAS,CAAC;cACR,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAA;cAElB,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;WACpD,EACD,KAAK,CACN,CAAA;;UAGD,KAAK,CAAC,gBAAgB,CACpB,gBAAgB,EAChB;cACE,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;WAClE,EACD,KAAK,CACN,CAAA;;UAGD,KAAK,CAAC,gBAAgB,CACpB,SAAS,EACT;cACE,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;WACpD,EACD,KAAK,CACN,CAAA;;UAGD,KAAK,CAAC,gBAAgB,CACpB,SAAS,EACT;cACE,IAAI,CAAC,YAAY,EAAE,CAAA;;cAEnB,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;WACpD,EACD,KAAK,CACN,CAAA;;UAGD,KAAK,CAAC,gBAAgB,CACpB,YAAY,EACZ;;cAEE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAA;;cAGtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;cAE1D,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;WAC9D,EACD,KAAK,CACN,CAAA;;UAGD,KAAK,CAAC,gBAAgB,CACpB,UAAU,EACV;cACE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAA;cACtB,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;WACpD,EACD,KAAK,CACN,CAAA;;UAGD,KAAK,CAAC,gBAAgB,CACpB,OAAO,EACP;cACE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;cAE1C,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA;cACvB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAA;cAC1B,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;WACpD,EACD,KAAK,CACN,CAAA;OACF;;;;;MAMM,UAAU,CAAC,KAAc;UAC9B,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA;;UAG9C,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;;;;;;MAOO,cAAc,CAAC,IAAY;UACjC,IACE,EACE,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa;cACzB,IAAI,CAAC,YAAY,CAAC,YAAY;cAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,CACzB,EACD;cACA,OAAM;WACP;UAED,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,EACpB,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EACzD,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;;UAG7C,IAAI,IAAI,KAAK,CAAC,EAAE;cACd,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,EAC7B,YAAY,GACV,UAAU,CAAC,MAAM,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAA;;cAGrE,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,YAAY,IAAI,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAA;cACzE,OAAM;WACP;UAED,OAAO,CAAC,KAAK,CAAC,KAAK;cACjB,YAAY,IAAI,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAA;OAC7D;;;;MAKO,YAAY;UAClB,IACE,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa;cACzB,IAAI,CAAC,YAAY,CAAC,YAAY;cAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,EACxB;cACA,IAAI,CAAC,cAAc,EAAE,CAAA;cACrB,OAAM;WACP;OACF;;MAGO,cAAc;UACpB,IAAI,OAAO,GAAG;kEACgD,EAC5D,IAAI,GAAG,IAAI,CAAA;UAEb,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,OAAO,CAAA;;UAGxD,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG;cACvB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;cACxC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;cAC3B,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;cAC/B,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;WACpC,CAAA;;UAGD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG;cAC7C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAA;;cAGnE,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;kBAC3D,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;eACzE;WACF,CAAC,CAAA;UAEF,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UAC1C,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;OACjE;;MAGO,aAAa,CAAC,KAAU;UAC9B,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UAErE,IAAI,MAAM,GAAG,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,MAAM,CAAA;UAE7C,IAAI,MAAM,KAAK,SAAS,EAAE;cACxB,OAAM;WACP;UAED,IAAI,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAA;UAE3E,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,WAAW,GAAG,IAAI,CAAA;;UAGxC,IAAI,CAAC,KAAK,CAAC,WAAW;cACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;OACpE;;MAGO,UAAU;UAChB,IACE,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW;cACvB,IAAI,CAAC,UAAU,CAAC,UAAU;cAC1B,IAAI,CAAC,UAAU,CAAC,MAAM,EACtB;cACA,IAAI,CAAC,YAAY,EAAE,CAAA;cACnB,OAAM;WACP;OACF;;MAGO,YAAY;UAClB,IAAI,QAAQ,GAAG;+BACY,EACzB,IAAI,GAAG,IAAI,CAAA;UAEb,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAA;;UAGvD,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;cACzB,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;WAC7D;;UAED,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG;cACrB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;cACtC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;cACtC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;WAC3C,CAAA;;UAGD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG;cAC3C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;;cAG/D,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;kBACvD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;eACrE;WACF,CAAC,CAAA;;UAGF,IAAI,CAAC,UAAU,CAAC,SAAS;cACvB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY;kBACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW;oBACpC,UAAU;oBACV,YAAY,CAAA;;UAGlB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAA;UACjD,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,UAAU,EAAE;cAC5C,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAA;WACrE;eAAM;cACL,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAA;WACnE;UAED,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UAC/D,IAAI,CAAC,UAAU,CAAC,QAAQ;cACtB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CACvC,OAAO,EACP,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CACnC,CAAA;OACJ;;MAGO,YAAY,CAAC,KAAU;UAC7B,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAA;UAExD,IAAI,MAAM,GAAW,CAAC,CAAA;UAEtB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,UAAU,EAAE;cAC5C,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAA;cACnE,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAA;;cAGpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;kBAClC,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAA;WAC9C;eAAM;cACL,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAA;cAElE,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,IAAI,CAAA;;cAGnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;kBAClC,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAA;WAC5C;OACF;;MAGO,kBAAkB;UACxB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAA;;UAGxD,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,UAAU,EAAE;cAC5C,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;kBACvC,OAAO,CAAC,KAAK,CAAC,MAAM;sBAClB,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI,CAAA;kBACtD,OAAM;eACP;cAED,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAA;cACrB,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAA;WACzB;eAAM;cACL,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;kBACvC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAA;kBAEpC,OAAO,CAAC,KAAK,CAAC,KAAK;sBACjB,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI,CAAA;kBACrD,OAAM;eACP;cAED,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAA;cACrB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA;WACxB;OACF;;MAGO,QAAQ,CAAC,OAAY,EAAE,KAAU;UACvC,IAAI,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC;gBACtC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC;gBAC7B,EAAE,CAAA;UAEN,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAS,GAAG;cACrC,MAAM,IAAI,GAAG,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;cACtC,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAA;WACtC,CAAC,CAAA;OACH;;MAGM,UAAU,CAAC,KAAU;;;UAI1B,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;OACpD;;MAGM,YAAY;UACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;;UAGpD,IAAI,IAAI,CAAC,QAAQ,EAAE;cACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;WACtB;OACF;;MAGM,OAAO;UACZ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,EAAE,CAAA;UACnD,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAA;UAErB,IAAI,CAAC,YAAY,EAAE,CAAA;UACnB,IAAI,CAAC,SAAS,EAAE,CAAA;OACjB;GACF;EAED,YAAY;;QCnhBC,YAAa,SAAQ,SAAS;MACzC,YAAY,OAAY;UACtB,KAAK,CAAC,OAAO,CAAC,CAAA;UAEd,IAAI,CAAC,mBAAmB,EAAE,CAAA;UAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;MAEM,iBAAiB;UACtB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;cAC1D,OAAM;WACP;UAED,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAA;UACxC,IAAI,IAAI,GAAG,IAAI,CAAA;;UAGf,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACtE,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACtE,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UAClE,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;OACtE;MAEM,eAAe,CAAC,KAAU;UAC/B,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAA;UAEjD,IAAI,CAAC,WAAW,GAAG;cACjB,SAAS,EAAE,IAAI;cACf,MAAM,EACJ,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,UAAU;oBACpC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,GAAG;oBAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI;cACpC,IAAI,EAAE,OAAO,CAAC,WAAW;WAC1B,CAAA;OACF;MAEM,eAAe,CAAC,KAAU;UAC/B,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAA;UAE1D,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE;cAC/B,OAAM;WACP;UAED,IAAI,MAAM,GAAW,CAAC,CAAA;;UAGtB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,UAAU,EAAE;cAC5C,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAA;cACnE,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAA;;cAGpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;kBAClC,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAA;WAC9C;eAAM;cACL,MAAM,GAAG,IAAI,CAAC,GAAG,CACf,OAAO,CAAC,WAAW,EACnB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CACrD,CAAA;;cAGD,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,IAAI,CAAA;;cAGnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;kBAClC,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAA;WAC5C;OACF;MAEM,aAAa;UAClB,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAA;UAE/C,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,KAAK,CAAA;OACnC;;MAGM,mBAAmB;UACxB,IACE,EACE,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa;cACzB,IAAI,CAAC,YAAY,CAAC,YAAY;cAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,CACzB,EACD;cACA,OAAM;WACP;UAED,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UACrD,IAAI,IAAI,GAAG,IAAI,CAAA;;UAGf,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACxE,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACxE,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACpE,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;OACxE;MAEM,iBAAiB,CAAC,KAAU;UACjC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UAEnD,IAAI,CAAC,SAAS,GAAG;cACf,SAAS,EAAE,IAAI;cACf,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI;cACtC,IAAI,EAAE,OAAO,CAAC,WAAW;WAC1B,CAAA;UAED,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;OACvB;MAEM,iBAAiB,CAAC,KAAU;UACjC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UAE5D,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;cAC7B,OAAM;WACP;UAED,IAAI,WAAW,GAAG,IAAI,CAAC,GAAG,CACxB,OAAO,CAAC,WAAW,EACnB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CACnD,CAAA;;UAGD,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,WAAW,GAAG,IAAI,CAAA;OACzC;MAEM,eAAe;UACpB,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UACjD,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;cAC5B,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,KAAK,CAAA;cAEhC,IAAI,CAAC,KAAK,CAAC,WAAW;kBACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;cAEnE,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;kBACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;eACtB;WACF;OACF;MAEM,eAAe;UACpB,IAAI,CAAC,OAAO,EAAE,CAAA;UACd,IAAI,CAAC,mBAAmB,EAAE,CAAA;OAC3B;GACF;EAED,iBAAiB;;QChJJ,gBAAiB,SAAQ,SAAS;MAC7C,YAAY,OAAY;UACtB,KAAK,CAAC,OAAO,CAAC,CAAA;UAEd,IAAI,CAAC,eAAe,EAAE,CAAA;OACvB;;MAGM,eAAe;UACpB,IACE,EACE,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa;cACzB,IAAI,CAAC,YAAY,CAAC,YAAY;cAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,CACzB,EACD;cACA,OAAM;WACP;UAED,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UACrD,IAAI,IAAI,GAAG,IAAI,CAAA;;UAGf,SAAS,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UAC5E,SAAS,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UAC1E,SAAS,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;OACzE;MAEO,kBAAkB,CAAC,CAAM;UAC/B,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UACnD,IAAI,CAAC,SAAS,GAAG;cACf,SAAS,EAAE,IAAI;cACf,MAAM,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK;cAC1B,IAAI,EAAE,OAAO,CAAC,WAAW;WAC1B,CAAA;;UAGD,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;OACvB;MAEM,iBAAiB,CAAC,CAAM;UAC7B,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UACjD,CAAC,CAAC,cAAc,EAAE,CAAA;UAElB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;cAC7B,OAAM;WACP;UAED,IAAI,MAAM,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAA;UACvD,IAAI,WAAW,GAAG,IAAI,CAAC,GAAG,CACxB,OAAO,CAAC,WAAW,EACnB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC,CAC1C,CAAA;;UAGD,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,WAAW,GAAG,IAAI,CAAA;OACzC;MAEM,gBAAgB;UACrB,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAA;UAEjD,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,KAAK,CAAA;UAEhC,IAAI,CAAC,KAAK,CAAC,WAAW;cACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;UAEnE,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;cACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;WACtB;OACF;GACF;;QCnEY,WAAW,GAAG,CAAC,OAAO;;MAEjC,IAAI,GAAG,GAAG,4CAA4C,CAAA;MAEtD,IAAI,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;UACjC,OAAO,IAAI,gBAAgB,CAAC,OAAO,CAAC,CAAA;OACrC;MAED,OAAO,IAAI,YAAY,CAAC,OAAO,CAAC,CAAA;EAClC,CAAC;;;;;;;;;;;;;;"}