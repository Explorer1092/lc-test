<template>
    <div class="outside-body" :class="bodyColor">
				<reportOne v-if="reportOne" :dataAllOne="dataAll"></reportOne>
				<reportTwo v-if="reportTwo" :dataAllTwo="dataAll"></reportTwo>
    </div>
</template>

<script>
import reportOne from './components/report_one.vue'
import reportTwo from './components/report_two.vue'
export default {
    name: 'HelloWorld',
    data() {
			return {
				dataVersion: '',
				reportOne: false,
				reportTwo: false,
				dataAllOne:[],
				dataAllTwo:[],
			}
    },
    props: {
			dataAll:{
					type: Object,
					default: []
			},
			bodyColor:{
					type:String,
					default: ''
			}
    
		},
		watch: {
			dataAll:{
					handler(curVal,oldVal){
							//此处setTimeout是为了跳出Vue生命周期 与watch的特性有关
							curVal && setTimeout(()=> {
									this.render(curVal)
							});
						deep:true
					}
			}
		},
    mounted() {
			
    },
    created() {

    },
    components:{
        reportOne,reportTwo
    },
    methods:{
			getVersion(){
				if(this.dataAll.version){
					console.log('version存在')
					this.dataVersion = this.dataAll.version;
				}else{
					console.log('version不存在')
					this.dataVersion = '1.0';
				}

				if(this.dataVersion === '1.0' || this.dataVersion === '1.1' || this.dataVersion == '1.2'){
					console.log('report老版本')
					this.reportOne = true
					this.reportTwo = false
					this.dataAllOne = this.dataAll
				}else if(this.dataVersion == '1.3'){
					console.log('report新版本')
					this.reportOne = false
					this.reportTwo = true
					this.dataAllTwo = this.dataAll
				}

			},
			render(curVal) {
				console.log('render')
					if(curVal){
						this.getVersion()
					}
			}
		}
}
</script>
<style>
	.outside-body{
		filter:alpha(opacity=100 finishopacity=50 style=1 startx=0,starty=0,finishx=0,finishy=150) progid:DXImageTransform.Microsoft.gradient(startcolorstr=#f85415,endcolorstr=#f97848,gradientType=0);	
		-ms-filter:alpha(opacity=100 finishopacity=50 style=1 startx=0,starty=0,finishx=0,finishy=150) progid:DXImageTransform.Microsoft.gradient(startcolorstr=#f85415,endcolorstr=#f97848,gradientType=0);	
		background:#f85415; /* 一些不支持背景渐变的浏览器 */  
		background:-moz-linear-gradient(top, #f85415, #f97848);  
		background:-webkit-gradient(linear, 0 0, 0 bottom, from(#f85415), to(#f97848));  
	}
</style>
<!-- <style src="./css/main.css" scoped></style> -->
<!-- <style src="./css/base.css" scoped></style> -->

