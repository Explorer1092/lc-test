# Chivox录音npm包介绍

该npm包基于Chivox的sdk进行了二次开发，去除驰声中的中文测评相关代码，为驰声的sdk的阉割版，包含如下功能
- 短句子的打分功能
- 长段落的打分功能
- 录音功能更
- 播放器功能

##npm包使用方式

具体使用方式请参考`chivox`的sdk文档。

```javascript
import chivox from "chivox"
const aipanel  = new window.chivox.AiPanel({
    appKey:window.chivox.keyConfig.appKey,
    mode:window.chivox.MODE.HTML5,
    sigurl:'../sigal',
    data:{
        duration:5000,
        serverParams:{
            ....
        }
    }
});
```
## 源码修改 
暴露出接口 `window.recordAudio`,`window.recordBuff` 为了项目的需要。
`window.recordBuff` 是获取到录音的文件，为了保证能够上传文件到自己的服务器。
`window.recordAudio` 是暴露出**audio**元素，为了保证了能够更加精细的控制录音需求。
`onBeforeReplay` 回调函数增加了参数el,el是 class="record"的dom元素，为了区分是第几个录音。
## npm 安装
```
npm install http://npm.vipkid.com.cn/chivox/-/chivox-1.1.6.tgz --save-dev 
```
## npm 发布方式

### 授权
> 需要把源码仓库分配给`npm`用户

1、选择仓库

2、选择`npm`用户

3、权限分配《Developer》

### 发布
1、 http://npm.vipkid.com.cn/index.html#/home/publish/

2、选择仓库地址

3、选择tag

4、查看日志
