window.chivox = {}
var generateGUID = (typeof(window) != 'undefined'  && typeof(window.crypto) != 'undefined') ? function(){
    var buf = new Uint16Array(8);
    window.crypto.getRandomValues(buf);
    var S4 = function(num){
        var ret = num.toString(16);
        while (ret.length < 4) {
            ret = "0" + ret;
        }
        return ret;
    };
    return (S4(buf[0]) + S4(buf[1]) + "-" + S4(buf[2]) + "-" + S4(buf[3]) + "-" + S4(buf[4]) + "-" + S4(buf[5]) + S4(buf[6]) + S4(buf[7]));
} : function(){
    // Otherwise, just use Math.random
    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c){
        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
    });
};

var appKey = "149628507800000e";

chivox.jsLoadStart =  new Date().getTime();

chivox.MODE = { 
    FLASH : 1,       /*默认，flash模式*/ 
    FLASH_FIRST: 2,  /* 当Flash加载失败时，测试Html5环境并尝试启用 */
    HTML5: 3         /* 直接食用Html5，只有在环境监测通过时才能成功启用 */ 
}; 

chivox.jssdkVersion = "4.0.3";
chivox.monitorUrl = "http://log.chivox.com/sdk-monitor/sdklog";
chivox.apiVersion = "v4.0";
chivox.ttsUrl = "http://cloud.chivox.com/tts"; //en.syn.sent/syn.ensnt.wysbrf

chivox.keyConfig = {
    appKey: appKey,
}

chivox.logId = generateGUID();

if(document.location.protocol == "https:") {
    chivox.host = chivox.host || "https://sdk.cloud.chivox.com/chivoxsdk-js/" + chivox.apiVersion;
} else {
    chivox.host = chivox.host || "http://sdk.cloud.chivox.com/chivoxsdk-js/" + chivox.apiVersion;
}
require('./src/aijquery-1.6.2-min.js');
require('./src/AiPanel.js');
require('./src/AiPlayer.js');
require('./src/AiRecorder.js');
require('./src/AiStatusCode.js');
require('./src/EnSentRec.js');
require('./src/EnSentScore.js');

const mychiox = window.chivox;
export default mychiox;
