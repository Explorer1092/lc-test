# 学习中心
> - 本项目是学习中心前端主项目，包含预习，上课，做作业，数字图书馆，积分商场，拓展，星星商店等。
> - 本项目自2017年5月开始新版上线，正式启用`lc.vipkid.com.cm`域名，UI和交互层面上突出孩子畅游知识星球的概念。
> - 本项目由老一辈革命家倾力打造，坚持做孩子喜爱的学习平台，抵制一切不利或者无益孩子的功能。

## 老一辈革命家永垂不朽

> `@lihongbin` `@gaoyasong` `@luomingzhong`

## 概述
- 项目启动

  1. 第一步 安装依赖
    `npm run update`
  2. 第二步 启动项目
    `npm run dev`
  3. 第三步 浏览器启动
   - 浏览器： localhost:端口号 (默认80) 端口可以在app.js中修改
   - 由于服务端需要种植cookie在vipkid.com.cn域下，使用`npm run dev`启动服务之后，需要将localhost地址映射为vipkid.com.cn的子域名
   - 可以在/etc/hosts(类linux系统的hosts文件地址)添加类似如下的ip-域名地址映射 `127.0.0.1 lmz.vipkid.com.cn`

- 代码规范查杀
 `npm run eslint` 现在还没用...

## Q&A

- browser-sync 用于自动刷新页面，如果不需要可以在app.js中将
const browserSyncState = false;

- 打包发布时，将`robots.txt`复制的到发布目录，用于阻止大厂爬虫爬取
```javascript
new CopyWebpackPlugin([{
              from: 'robots.txt',
              to: './'
            }], {
              ignore: [],
              copyUnmodified: true,
            })
```

## 文档
- 服务接口文档地址：服务接口文档接口详见内容见wiki文档
- **[蛋壳商城接口地址](http://wiki.vipkid.com.cn/pages/viewpage.action?pageId=18682135)**
- jenkins部署
 学生中心的测试环境部署采用**Jenkins**部署，**Jenkins地址**为[http://ci.vipkid-qa.com.cn/job/env-deploy/view/learning/job/vfe-learning-center/build?delay=0sec](http://ci.vipkid-qa.com.cn/job/env-deploy/view/learning/job/vfe-learning-center/build?delay=0sec)


## 开发注意事项
- 目前 学习中心分为三个客户端，一个是**常规浏览器**,一个是**PC端APP**,基于`Electron`开发，一个为`ipad`
三者的区别为
**PC端APP** 采用user-agent区分 可以调用`src/utils/_dragon.js`中的isOnDragonClient开区分是否为PC端App
**ipad端** ipad端封装了webview ,在ipad端开注意，如果需要使用parentId的时候，ipad端的`parentId`的获取方式不一样
**ipad端** 采用cookie形式来区分ipad, 可以获取`isFromApp`的值，然后parentId的值种植在`mbparentid`key中
总之很坑爹
- 预习视频录音
 预习视频录音需要使用https协议，对应服务器证书在`server`目录下
 
