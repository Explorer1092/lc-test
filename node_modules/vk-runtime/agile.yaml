build:
  env:
    node: '/usr/local/node/node-v8.9.4/bin/node'
    npm: '/usr/local/node/node-v8.9.4/bin/npm'
  config-center:
    appName: vfe-learning-center
    env: prod
    config-name:
      - name: vf2e.config.js
        release: ./vf2e.config.js
  # 静态资源上传CDN
  static-cdn:
    module:
      - dist: './output'
        release: 'fe-static/learning'

  command:
    - 'npm run init'
    - 'npm run build'

dev:
  env:
    node: '/usr/local/node/node-v8.9.4/bin/node'
    npm: '/usr/local/node/node-v8.9.4/bin/npm'
  config-center:
    appName: vfe-learning-center
    token: 'e2be773db17eba9010ae35f43b2a385e'
    env: test
    config-name:
      - name: vf2e.config.js
        release: ./vf2e.config.js
  command:
    - 'npm run init'
    - 'npm run build'
  deploy:
    intend:
      - 'mkdir -p /opt/vipkid/vfe/learning-center/'
    output: './output/*'
    path: '/opt/vipkid/vfe/learning-center/'
    command:
      - 'ls -la /opt/vipkid/vfe/learning-center/'
