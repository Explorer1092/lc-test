<template lang="jade">
  .outside-wrapper
    top-part(:title_cn = "title_chinese", :title_eng = "title_english")
    img.bg-lower-left(src="../../img/extension/l-im@2x.png")
    img.bg-lower-right(src="../../img/extension/r-im@2x.png")
    img.bg-mid-planet(src="../../img/extension/flold@2x.png")
    .tv
      .screen(ref="screen", v-if="isNoiseShow")
      .noise(ref="noise", v-if="isNoiseShow")
      img.signal(ref="signal", src="../../img/extension/sonar@2x.png", v-if="isNoiseShow")
      .info(ref="info", src="../../img/extension/inform-intermediate@2x.png", :class="{show: isInfoShow}")
        p.first(v-html="contentBeginner", v-if="level == 1")
        p.first(v-html="contentIntermediateAndAdvanced", v-else)
      
</template>
<script>
import TopPart from '../common/top_part.vue'
import Velocity from 'velocity-animate'
export default {
  data: function () {
    return {
      title_chinese: '',
      title_english: '',
      isNoiseShow: true,
      isInfoShow: false,
      contentBeginner: '宝贝每节课学一首英文原创主题歌曲<br>8次课后可学唱8首不同的英文原创主题歌曲<br>录制自己专属的音乐MV',
      contentIntermediateAndAdvanced: '宝贝每节课可掌握一个场景的单词和句型表达<br>8次课后可掌握8大不同场景的英文对话<br>录制自己专属的情景短片',
      level: this.$route.params.level
    }
  },
  components: {
    TopPart
  },
  mounted() {
    setTimeout(() => {
      Velocity(this.$refs.signal, { scaleY: 0}, {duration: 100})
      Velocity(this.$refs.screen, { scaleY: 0.1 }, { duration: 100, complete: () => {
        Velocity(this.$refs.screen, { scaleX: 0 }, { duration: 100, complete: () => {
          Velocity(this.$refs.signal, { scaleY: 0.2}, {duration: 10, complete: () => {
            Velocity(this.$refs.signal, { scaleX: 0}, {duration: 30})
          }})
          Velocity(this.$refs.noise, { scaleX: 0 }, { duration: 100, complete: () => {
            this.isNoiseShow = false
            this.isInfoShow = true
          }})
        }})
      }})
    }, 1500)
  },
  methods: {
  }
}
</script>
<style lang="stylus" scoped>
.outside-wrapper
  width: 100%
  height: 100%
  position: relative
  background-image: url('../../img/extension/bg-universe@2x.png')
  background-size: 100% 100%
  background-repeat: no-repeat
  img.bg-lower-left
    position: absolute
    z-index: 2
    bottom: 0px
    left: 0px
    width: 293px
    height: 473px
  img.bg-lower-right
    z-index: 2
    position: absolute
    bottom: 0px
    right: 0px
    width: 289px
    height: 422px
  img.bg-mid-planet
    z-index:1  
    position: absolute
    bottom: 0px
    left: 0
    right: 0
    width: 100%
    height: 341px
  .tv
    z-index: 3
    position: absolute
    top: 50%
    left: 50%
    margin: -290px 0 0 -477px
    width:894px
    height: 580px
    background-image: url('../../img/extension/tv-bg@2x.png')
    background-repeat: no-repeat
    background-size: 100%
    .screen
      position: absolute
      left: 159px
      top: 89px
      width: 580px
      height: 344px
      border-radius: 10px
      background-color: #601cb9
      box-shadow: inset 0 0 5px 0 rgba(26, 7, 90, 0.46)
    .noise
      position: absolute
      top: 100px
      left: 169px
      background-image: url('../../img/extension/tv-noise-sprite.png')
      background-size: 100%
      background-repeat: no-repeat
      width: 560px
      height: 324px
      background-position: 0 0
      animation: noiseswitch 5ms steps(2) infinite
      -webkit-animation: noiseswitch 5ms steps(2) infinite
    img.signal
      width: 315px
      height: 120px
      position: absolute
      top: 200px
      left: 291px
    .info
      position: absolute
      top: 62px
      left: 157px
      width: 580px
      height: 389px
      opacity: 0
      transition: all 1s
      background-image: url('../../img/extension/inform-intermediate@2x.png')
      background-size: 100%
      background-repeat: no-repeat
      &.show
        opacity: 1
      p
        position: absolute
        color: white
        line-height: 45px
        top: 166px
        left: 216px
@keyframes noiseswitch
  to
    background-position: 0 -648px
@-webkit-keyframes noiseswitch
  to
    background-position: 0 -648px
</style>
