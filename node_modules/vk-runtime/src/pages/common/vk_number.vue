<template lang="jade">
  .number-wap
    .text(:class="'text-x-'+type")
    .text(:class="'text-'+type",v-for="(i,index) in numbers",:style="{backgroundPosition:'-5px -'+i*44+'px',transitionDelay:index*0.2+'s'}")
</template>
<script>
  export default {
    data: function () {
      return {
        numbers: []
      }
    },
    props: {
      number: {
        type: String,
        required: true,
        default: "0"
      },
      type: {
        type: String,
        required: false,
        default: "yellow"
      }
    },
    components: {},
    computed: {},
    watch: {
      number: function () {
        this.numberSplit()
      }
    },
    mounted () {
      this.numberSplit()
    },
    methods: {
      numberSplit(){
        let numbers = this.number.split('')
        let index = numbers.indexOf(".")
        if (index > -1) {
          numbers[index] = 11
        }
        for (var i = 0; i < numbers.length - 1; i++) {
          this.numbers.push(0)
        }
        setTimeout(() => {
          this.numbers = numbers
        }, 200)
      }
    }
  }
</script>

<style lang="stylus" scoped>
  .number-wap
    overflow: hidden
    display: inline-block
    .text
      width: 28px
      height: 44px
      float: left
      background-position: -5px 0
      transition: background-position 1s ease
    .text-yellow, .text-x-yellow
      background: url("../../img/common/bg_number_lmz.png") no-repeat
    .text-orange, .text-x-orange
      background: url("../../img/common/number-orange@2x.png") no-repeat
    .text-x-orange, .text-x-yellow
      background-position: -5px -440px
      transition-delay: 0.2s
      transform-origin: 100% 80%
      transform: scale(0.7, 0.7)

</style>
