/**
 * Created by lihongbin on 2017/8/7.
 */
import video from '../../video/simple_video.vue'
export default {
  install (Vue, options) {
    let videoTpl = Vue.extend(video)
    let vm = null
    let el = null
    Vue.prototype.$videoModelShow = (config) => {
      if (vm == null) {
        vm = new videoTpl({
          propsData: {
            videoConfig: config
          }
        })
        el = vm.$mount().$el
        for (var i = 0; i < document.body.children.length; i++) {
          document.body.children[i].style.transform = "scale(0,0)"
        }
        document.body.appendChild(el)
      }
    }
    Vue.prototype.$videoModelClose = () => {
      for (var i = 0; i < document.body.children.length; i++) {
        document.body.children[i].style.transform = "scale(1,1)"
      }
      el.className = el.className + " fadeOutRight"
      setTimeout(() => {
        document.body.removeChild(el)
        vm = null
        el = null
      }, 300)
    }
  }
}
