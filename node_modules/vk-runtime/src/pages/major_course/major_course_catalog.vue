<template lang="jade">
    .extension-course
      top-part(:title_cn = "title_chinese", :title_eng = "title_english", :gobackurl="'/'")
      vertical-scroll(:marginT="'-142px'")
        a.item(v-for="item in planetList", v-if="item.isHas", @click="goToLinkByPlanetNumber(item.planetNumber, item.majorType)")
          img.planet(:src="item.imageUrl")
          h4 {{item.chName}}
          p {{item.enName}}
      move-background(:canMove = "true")
</template>
<script>
import TopPart from '../common/top_part.vue'
import moveBackground from '../common/move_background.vue'
import verticalScroll from '../common/vertical_scroll.vue'
import axios from 'axios'
import cookies from 'cookies-js'
export default {
  data: function() {
    return {
      title_chinese: '主修课程',
      title_english: 'Major Course',
      planetList: []
    }
  },
  mounted () {
    this.setCourseButton()
  },
  methods: {
    goToLinkByPlanetNumber(planetNumber, majorType) {
      if (planetNumber == 12) {
        this.$router.push({path: `/esl/${majorType}/${planetNumber}`})
      } else if(planetNumber == 14) {
        this.$router.push({path: `/escalate/${majorType}/${planetNumber}`})
      } else {
        this.$router.push({path: `/major/${majorType}/${planetNumber}`})
      }
    },
    setCourseButton() {
      axios.get('/rest/learninggw/api/pc/path/major/getMajorType', {
        params: {
          studentId: cookies.get("studentId")
        }
      }).then((res) => {
        this.planetList = res.data.data
      })
    }
  },
  components: {
    TopPart,
    moveBackground,
    verticalScroll
  }
}
</script>
<style lang="stylus" scoped>
  .extension-course
    position: relative
    height: 100%
    width: 100%
    .item
      display: inline-block
      width: 390px
      box-sizing: border-box
      padding: 0px 25px
      color: white
      cursor: pointer
      text-decoration: none
      img.planet
        width: 238px
        transition: all 0.2s
        &:hover
          transform: scale(1.1)
      h4
        font-size: 22px
        margin-bottom: 10px
        @media screen and (max-width: 1280px)
          font-size: 20px
      p
        font-size: 16px
        @media screen and (max-width: 1280px)
          font-size: 14px
</style>
