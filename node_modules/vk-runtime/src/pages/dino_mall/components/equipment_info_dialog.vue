<template lang="jade">
  .dialog_box
    .library_dialog_bg
      .top-cancel-btn(v-if="isShowCloseButton", @click="dispathEventAndClose('close')")
        img(src="../../../img/dino_mall/close.png")
      p.title-text(v-if="isShowTitle") {{title}}
      .content
        .content-left
          img(v-show="currentObj.bigImgUrls.length<=0",src="../../../img/dino_mall/default.png")
          vk-swipe(:showLabel.sync="showLabel")
            vk-swipe-item(v-for="(link,index) in JSON.parse(currentObj.bigImgUrls)" v-bind:key="index")
              img.vk-swipe-item-img(:src="link")
          .haves(v-show="currentObj.obtainStatus=='YES'")
        .content-right
          .info-rows
            .info-rows-left 名称
            .info-rows-right {{currentObj.name}}
          .info-rows
            .info-rows-left 兑换
            .info-rows-right
              img.info-rows-right-img(v-show="currentObj.tradeType=='EGGSHELL'",src="../../../img/dino_mall/store.png")
              span {{currentObj.tradeType=='EGGSHELL'?currentObj.tradePrice:'活动限定'}}
          .info-rows
            .info-rows-left 介绍
            .info-rows-right.info-rows-right-decs {{currentObj.description}}
          .library_dialog_btn(v-show="(currentObj.tradeType=='ONLY_COMPLETED_ACTIVITY') && (currentObj.obtainStatus=='NO')",@click="dispathEventAndClose('close')") 知道了
          .library_dialog_common_btn.library_dialog_left_btn(v-show="(currentObj.tradeType=='EGGSHELL') && (currentObj.obtainStatus=='NO')",@click="dispathEventAndClose('cancel')") 取消
          .library_dialog_common_btn.library_dialog_disable_btn(v-show="(currentObj.tradeType=='EGGSHELL') && (currentObj.obtainStatus=='NO') && isLess") 能量石不足
          .library_dialog_common_btn.library_dialog_right_btn(v-show="(currentObj.tradeType=='EGGSHELL') && (currentObj.obtainStatus=='NO') && !isLess",@click="dispathEventAndClose('confirm')") 兑换
</template>

<style lang="stylus" scoped>
    .dialog_box
      position: absolute
      top: 50%
      left: 50%
      width: 800px
      height: 520px
      margin-top: -360px
      margin-left: -400px
      .library_dialog_bg
        position: relative
        z-index: 223
        width: 780px
        min-height: 470px
        background: #A18EE3
        border-radius: 30px
        padding-bottom: 10px
        .top-cancel-btn
          position: absolute
          right: -10px
          top: -10px
          cursor: pointer
          &:hover
            opacity: 0.8
          &>img
            width: 40px
        .title-text
          width: 80%
          height: 68px
          line-height: 68px
          margin: 0 auto
          overflow: hidden
          text-align: center
          font-size: 30px
          color: #fff
        .content
          width: 760px
          height: 420px
          border:solid 5px #9886D7
          padding: 22px 22px 60px
          line-height: 1.4
          background: #fff
          border-radius: 30px
          margin: 0 auto
          color: #666
          overflow: hidden
          box-sizing: border-box
          position: relative
          text-align: center
          .content-left
            display: inline-block
            position: relative
            float: left
            width: 360px
            height: 360px
            background: center center no-repeat url("../../../img/dino_mall/img_bg.png")
            background-size: 100% 100%
            border-radius: 42px
            overflow: hidden
            .haves
              position: absolute
              width: 100px
              height: 100px
              top: -5px
              right: 0
              background: top right no-repeat url("../../../img/dino_mall/haved.png")
              background-size: 100px 100px
          .content-right
            display: inline-block
            float: left
            width: 330px
            height: 360px
            margin-left: 15px
            .library_dialog_btn
              width: 142px
              height: 40px
              line-height: 40px
              margin-top: 20px
              color: #fff
              text-align: center
              font-size: 16px
              background: center center no-repeat url("../../../img/dino_mall/kown.png")
              background-size: 100% 100%
              margin-left: 90px
              cursor: pointer
              clear: both
              &:hover
                opacity: 0.8
            .library_dialog_common_btn
              display: inline-block
              float: left
              width: 142px
              height: 40px
              line-height: 40px
              margin: 0 10px
              color: #fff
              text-align: center
              font-size: 16px
              &:hover
                opacity: 0.8
            .library_dialog_left_btn
              background: center center no-repeat url("../../../img/dino_mall/cancle.png")
              background-size: 100% 100%
              cursor: pointer
            .library_dialog_disable_btn
              background: center center no-repeat url("../../../img/dino_mall/button-disable.png")
              background-size: 100% 100%
              cursor: not-allowed
              &:hover
                opacity: 1
            .library_dialog_right_btn
              background: center center no-repeat url("../../../img/dino_mall/kown.png")
              background-size: 100% 100%
              cursor: pointer
            .info-rows
              display: table
              padding-bottom: 20px
              width: 100%
              min-height: 20px
              font-size: 16px
              line-height: 1.25em
              text-align: left
              .info-rows-left
                display: table-cell
                width: 50px
                padding: 0 20px
                vertical-align: top
              .info-rows-right
                width: 250px
                vertical-align: top
                color: #555
                .info-rows-right-img
                  width: 22px
                  height: 22px
                  padding-right: 4px
                  vertical-align: middle
              .info-rows-right-decs
                height: 218px
                float: left
                text-align: left
                overflow-y: auto
                &::-webkit-scrollbar
                  width: 8px
                  height: 8px
                  -webkit-border-radius: 4px
                  -moz-border-radius: 4px
                  border-radius: 4px
                &::-webkit-scrollbar-track
                  background: rgba(0, 0, 0, 0)
                &::-webkit-scrollbar-thumb
                  background: rgba(0, 0, 0, 0.1)
                  border-radius: 4px
</style>

<script>
	import vkSwipe from './swipe.vue'
	import vkSwipeItem from './swipe_item.vue'
	export default{
	  data(){
	    return {
	      showLabel: false
    }
  },
	  props: {
	    tipText: {
	      type: String,
	      required: false,
	      default: '你确定吗？'
	    },
	    // 根据使用场景，确定dino的情绪（开心、伤心）
	    imgType: {
	      type: String,
	      required: false,
	      default: 'happy'
	    },
	    // 是否显示关闭按钮
	    isShowCloseButton:{
	      type:Boolean,
	      required: false,
	      default:true
	    },
	    title:{
	      type: String,
	      default: ""
	    },
	    isShowTitle:{
	      type: Boolean,
	      default: false
	    },
	    currentObj:{
	    	type:Object,
      default:function () {
        return {}
      }
    },
	    isLess:{
	      type: Boolean,
	      default: false
    }
	  },
	  methods: {
	    dispathEventAndClose(event) {
	      this.$emit(event)
	    }

	  },
  components:{
	    vkSwipe,
	    vkSwipeItem
  }
	}
</script>
