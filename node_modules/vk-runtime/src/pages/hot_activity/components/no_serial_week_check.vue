//本组件用于没有连续四周打开
<template lang="jade">
  transition(name="fade")
    .con
      .top
        img(src="../../../img/hot_activity/sticker@2x.png")
      .bo
        .box
          week-check-package(:step="currentStep")
        .text
          | {{tip}}
        vk-button(type="lg-enable",:text="btnText",clickId="homepage_btn_homework",:clickFun="next")
</template>
<script>
  import vkButton from '../../common/vk_button.vue'
  import weekCheckPackage from './week_check_package.vue'
  export default
  {
    data: function () {
      return {
        tip: "孩子上周没有达成目标，从头再来进行打卡吧",
        btnText: "继续努力",
        currentStep: 0
      }
    },
    components: {
      vkButton,
      weekCheckPackage
    },
    computed: {},
    mounted () {
      if (this.weekBeforeBreak < 4) {
        this.currentStep = this.weekBeforeBreak
      } else {
        this.currentStep = 0
      }
      setTimeout(() => {
        this.currentStep = this.continueWeek
      }, 2000)
    },
    props: {
      continueWeek: {
        type: Number,
        default: 0
      },
      weekBeforeBreak: {
        type: Number,
        default: 0
      }
    },
    methods: {
      next(){
        this.$emit("close")
      }
    }
  }
</script>

<style lang="stylus" scoped>
  .con
    position: fixed
    top: 0
    left: 0
    right: 0
    bottom: 0
    background: rgba(0, 0, 0, 0.9)
    z-index: 100
    text-align: center

  .top
    height: 25%
    width: 100%
    img
      height: 100%
      margin: 0 auto

  .bo
    position: relative
    height: 400px
    width: 550px
    margin: 25px auto

  .inside
    position: relative
    width: 100%

  .text
    line-height: 25px
    font-size: 18px
    color: #ffffff
    margin: 50px 0

  .box
    width: 180px
    margin: 0 auto

  @keyframes lightRotate
    0%
      opacity: 0.5
      transform: rotateZ(0deg) scale(1.2, 1.2)
    50%
      opacity: 1
      transform: rotateZ(180deg) scale(1.7, 1.7)
    100%
      opacity: 0.5
      transform: rotateZ(360deg) scale(1.2, 1.2)
</style>
