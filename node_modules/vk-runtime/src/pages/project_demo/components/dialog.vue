<template lang="jade">
  .dialog-mask
    .dialog(:class="{ 'share' : type==='share' }")
      .dino(v-if="type !=='share'")
      .title {{title}}
      .close(v-show="type ==='share'",@click="buttonClick('cancel')")
      .text-box
        qrcode-box(v-if="type==='share'" class="qrcode",:value="url",:size="140",:level="'H'")
        .tips {{tips}}
        //- .icon.icon-moments(v-if="type ==='share'")
        //- .icon.icon-wechat(v-if="type ==='share'")
        .button-conainer(v-if="type !=='share'")
          .button(v-for="(item, i) in buttons", @click="buttonClick(item.key)") {{item.text}}
</template>
<script>
  import cookies from 'cookies-js'
  import qrcodeBox from 'qrcode.vue'
  export default {
    data() {
      return {
        buttons: [{text:'取消',key:'cancel'},{text:'确定',key:'confirm'}]
      }
    },
    props: {
      type: {
        type: String,
        required: false,
        default: 'normal'
      },
      dino: {
        type: Boolean,
        required: false,
        default: true
      },
      title: {
        type: String,
        required: false,
        default: "提示"
      },
      tips: {
        type: String,
        required: false,
        default: "确认"
      },
      url: {
        type: String,
        required: false,
        default: 'www.vipkid.com.cn'
      }
    },
    components: {
      qrcodeBox
    },
    mounted() {
    },
    methods: {
      buttonClick(key){
        this.$playSound("click")
        this.$emit("dialogClick", key)
      },
      goBack() {
        if (this.mark) {
          sa.track('learning_click', {'click_id': 'pc_learning_digital_' + this.mark + '_return'})
        }
        if (this.isOnIpadApp) {
          this.loadURL('vkappbridge://history/back')
          return
        }
        if (this.gobackurl) {
          this.$router.push(this.gobackurl)
        } else {
          window.history.back()
        }
        this.$playSound("click")
      }
    }
  }
</script>
<style lang="stylus" scoped>
  .dialog-mask
    width: 100%
    height: 100%
    position: absolute
    top: 0
    left: 0
    background: rgba(0,0,0,0.7)
    z-index: 12
    font-family: PingFangSC
    .dialog
      display: inline-block
      width: 480px
      height: 322px
      position: absolute
      top: 50%
      left: 50%
      transform: translate(-50%,-50%)
      -webkit-transform: translate(-50%, -50%)
      background: #a190e1
      border-radius: 20px
      .close
        width: 60px
        height: 60px
        position: absolute
        right: -20px
        top: -20px
        background: url("../../../img/project_demo/workwall2.png") no-repeat
        background-size: 160px
        background-position: -60px -60px
        border-radius: 20px
        cursor: pointer
        &:after
          content:" "
          display: inline-block
          width: 60px
          height: 60px
          border-radius: 30px
          display: none
        &:hover
          &:after
            background: rgba(255,255,255,0.3)
            display: inline-block
        &:active
          &:after
            background: rgba(0,0,0,0.3)
            display: inline-block
      &.share
        width: 400px
        // height: 480px
        height: 410px
        .text-box
          width: 370px
          // height: 394px
          height: 327px
          .tips
            margin-top: 20px
      .dino
        width: 170px
        height: 90px
        position: absolute
        top: -77px
        left: 150px
        background: url("../../../img/gift/dialog-dino-sweet.png") no-repeat
        background-size: 100% 100%
      .title
        font-size: 24px
        margin-top: 20px
      .text-box
        width: 442px
        height: 240px
        box-shadow: 0 0 0 5px rgba(0, 0, 0, 0.05)
        background: #fff
        border-radius: 20px
        margin: 15px auto
        .qrcode
          width: 140px
          height: 140px
          display: inline-block
          margin-top: 60px
        .tips
          color: #777777
          display: inline-block
          width: 360px
          font-size: 24px
          margin-top: 40px
        .icon
          width: 60px
          height: 60px
          display: inline-block
          margin: 20px 30px
          background: url("../../../img/project_demo/workwall2.png") no-repeat
          background-position: 0 -180px
          background-size: 160px
        .icon-moments
          background-position: -60px -180px
        .button-conainer
          margin-top: 50px
          .button
            display: inline-block
            width: 140px
            height: 40px
            font-size: 18px
            line-height: 38px
            cursor: pointer
            position: relative
            &:after
              content:" "
              display: inline-block
              width: 140px
              height: 40px
              border-radius: 28px
              display: none
              position: absolute
              top: 0
              left: 0
            &:hover
              &:after
                background: rgba(255,255,255,0.3)
                display: inline-block
            &:active
              &:after
                background: rgba(0,0,0,0.3)
                display: inline-block
            &:first-of-type
              background: url("../../../img/project_demo/upload_status_2.png") no-repeat
              background-size: 100% 100%
              margin-right: 40px
            &:last-child
              background: url("../../../img/project_demo/upload_status_1.png") no-repeat
              background-size: 100% 100%
              margin-right: 0
</style>
