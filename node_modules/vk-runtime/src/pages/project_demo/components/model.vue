<template lang="jade">
  .dialog-mask
    .dialog(v-if="model")
      .close(@click="buttonClick('cancel')")
      .title {{awardName}}
      .cheer
      .light
      .model(:class="model.awardsImage?'':type")
        img(v-if="model.awardsImage",:src="model.awardsImage")
      h1 {{model.englishName}}
      h2 {{model.activityName}}
      h3 ({{model.partitionName}})
</template>
<script>
  import cookies from 'cookies-js'
  import qrcodeBox from 'qrcode.vue'
  export default {
    data() {
      return {
        buttons: [{text:'取消',key:'cancel'},{text:'确定',key:'confirm'}],
        type: 'default'
      }
    },
    props: ['model','awardName'],
    components: {
      qrcodeBox
    },
    mounted() {
      if (this.awardName) {
        if (this.awardName.indexOf('优秀') > -1) {
          this.type = 'excellent'
        }else if (this.awardName.indexOf('人气') > -1) {
          this.type = 'popular'
        }
      }
    },
    methods: {
      buttonClick(key){
        this.$emit("dialogClick", key)
      }
    }
  }
</script>
<style lang="stylus" scoped>
  .dialog-mask
    width: 100%
    height: 100%
    position: absolute
    top: 0
    left: 0
    background: rgba(0,0,0,0.7)
    z-index: 12
    font-family: PingFangSC
    .dialog
    	width: 500px
    	height: 455px
    	margin: 160px auto
    	background: url("../../../img/project_demo/model_bg.png") no-repeat
    	background-size: 100% 100%
    	position: relative
    	.title
    		font-size: 24px
    		font-weight: 700
    		line-height: 50px
    	.cheer
    		width: 380px
    		height: 254px
    		background: url("../../../img/project_demo/cheer.png") no-repeat
    		background-size: 100% 100%
    		position: absolute
    		top: 60px
    		left: 60px
    	.light
    		width: 300px
    		height: 300px
    		background: url("../../../img/project_demo/light.png") no-repeat
    		background-size: 100% 100%
    		position: absolute
    		left: 100px
    		top: 50px
    	.model
        width: 160px
        height: 210px
        position: absolute
        top: 80px
        left: 172px
        &.default
          background: url("../../../img/project_demo/default_big.png") no-repeat
        	background-size: 100% 100%
        &.excellent
          background: url("../../../img/project_demo/model_2.png") no-repeat
          background-size: 100% 100%
    		&.popular
    			background: url("../../../img/project_demo/model_1.png") no-repeat
    			background-size: 100% 100%
    		img
    			width: 100%
    			height: auto
    	h1,h2,h3
    		color: #815CA1
    		position: absolute
    		text-align: center
    		width: 100%
    	h1
    		font-size: 32px
    		bottom: 120px
    	h2
    		font-size: 20px
    		bottom: 80px
    	h3
    		font-size: 18px
    		bottom: 40px
    	.close
    		width: 60px
    		height: 60px
    		position: absolute
    		right: -28px
    		top: 0
    		background: url("../../../img/project_demo/workwall2.png") no-repeat
    		background-position: -60px -60px
      background-size: 160px
    		border-radius: 20px
    		cursor: pointer
    		&:after
          content:" "
          display: inline-block
          width: 60px
          height: 60px
          border-radius: 30px
          display: none
        &:hover
          &:after
            background: rgba(255,255,255,0.3)
            display: inline-block
        &:active
          &:after
            background: rgba(0,0,0,0.3)
            display: inline-block
</style>
