<template lang="jade">
  .en-speech
    top-part(:title_cn = "title_chinese", :title_eng = "title_english")
    img.support(src="../../img/project_demo/supports.png")
    img.main(src="../../img/project_demo/speech_main.png")
    .list-container
      .list-box
        img.item(
          v-for = "(item,index) in speechList",
          @click="goDetail(item.id,index)",
          :src="imgList[index]",
          :key="index"
        )
</template>
<script>
  import axios from 'axios'
  import topPart from '../common/top_part.vue'
  import png1 from '../../img/project_demo/speech_1.png'
  import png2 from '../../img/project_demo/speech_2.png'
  import png3 from '../../img/project_demo/speech_3.png'
  import png4 from '../../img/project_demo/speech_4.png'
  import png5 from '../../img/project_demo/speech_5.png'
  import png6 from '../../img/project_demo/speech_6.png'
  export default {
    data(){
      return {
        title_chinese: '',
        title_english: '',
        speechList:[],
        imgList:[png1,png2,png3,png4,png5,png6]
      }
    },
    components: {
      topPart
    },
    mounted() {
      this.init()
    },
    methods: {
      init(){
        const promise = axios.get('/rest/activity/api/activity/user/activity/getSpeechActivityInfo/1/12')
        promise.then((res=>{
          const data = res.data
          if(data.code==0){
            data.data.list.sort((a,b) => parseInt(a.rule) > parseInt(b.rule))
            this.speechList = data.data.list
          }
        }))
      },
      goDetail(id,index) {
        this.$router.push('/english_speech_competition/detail/' + id)
        sa.track("learning_click", {
          click_id:
            "pc_learning_activity_competitionArena_competition_21_centery_enlish_group_" + (index + 1)
        })
      }
    }
  }
</script>

<style lang="stylus" scoped>
.en-speech
  background-color: #382A73
  background-image: url(../../img/project_demo/speech_bg.png)
  background-size: 100% 100%
.center
  position: absolute
  top: 50%
  left: 50%
  margin: -250px 0 0 -400px
.support
  position: absolute
  top: 20px
  right:  40px
  width: 472px
.en-speech-logo
  position: absolute
  top: 40px
  right: 30px
  width: 427px
img.main
  width: 900px
  margin: -285px 0 0 -471px
  display: block
  position: absolute
  left: 50%
  top: 50%
.list-container
  margin: -10px 0 0 -500px
  width: 1000px
  position: absolute
  top: 50%
  left: 50%
.list-box
  margin-right: -120px
  img
    width: 30%
    display: inline-block
    box-sizing: border-box
    padding: 13px
    cursor: pointer
    &:hover
      opacity: 0.8
@media screen and (min-width: 1080px)
  img.main
    width: 845px
    margin: -265px 0 0 -423px
  .list-container
    width: 767px
    margin: -23px 0 0 -386px
@media screen and (min-width: 1600px)
  img.main
    width: 953px
    margin: -305px 0 0 -468px
  .list-container
    width: 847px
    margin: -23px 0 0 -448px
@media screen and (min-width: 1800px)
  img.main
    width: 1092px
    margin: -345px 0 0 -550px
  .list-container
    width: 960px
    margin: -26px 0 0 -494px
@media screen and (max-width: 1080px)
  img.main
    width: 770px
    margin: -262px 0 0 -391px
  .list-container
    margin: -42px 0 0 -358px
    width: 660px
  img.support
    top: 29px
    right: 18px
    width: 382px    
</style>