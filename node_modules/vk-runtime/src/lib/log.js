;
(function() {
  var _$ = function(){
  }
  _$.prototype.setEvent = function(targetName,event,handle){
    if (targetName.addEventListener) {
        targetName.addEventListener(event, handle, false)
    } else if (targetName.attachEvent) {
        targetName.attachEvent("on" + event, handle)
    } else {
        targetName["on" + event] = handle
    }
  }
  _$.prototype.delEvent = function(targetName,event,handle){
    if (targetName.addEventListener) {
        targetName.removeEventListener(event, handle, false)
    } else if (targetName.attachEvent) {
        targetName.detachEvent("on" + event, handle)
    } else {
        targetName["on" + event] = null
    }
  }
  _$.prototype.getTarget=function(targetName){
    return document.querySelector(targetName)
  }
  var $ = new _$()

  var VipKidLog = function() {
    this.init();
  };

  VipKidLog.prototype.init = function() {
    //为了避免开发的时候不停地给神策发送数据，当url中包含debug的时候停止发送数据
    var search = location.search;
    if (/debug=(true|1)/.test(search)) {
      return false
    }
    this.addEventListener();
  }

  //绑定监听事件
  VipKidLog.prototype.addEventListener = function() {
    $.delEvent($.getTarget('body'),'click',clickLog)
    // $('body').off('click.log');
    var self = this;
    var clickLog = function(e) {
      if(!e.target.getAttribute('data-sa-click')) return
      var logName = 'h5_click'
      var logValues = {
        'click_id': e.target.getAttribute('data-sa-click')
      }
      sa.track(logName, logValues)
    }
    $.setEvent($.getTarget('body'),'click',clickLog)
  };

  new VipKidLog()
})();