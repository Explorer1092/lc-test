Started by user shangwenhe
Obtained script/publish.jenkins from git ssh://git@code.vipkid.com.cn:3590/vipkid-npm/publish-script.git
Running in Durability level: MAX_SURVIVABILITY
[Pipeline] properties
[Pipeline] node
Running on npm-server in /tmp/gitrepo/workspace/department/l-npm-server1.prt.prod.aws.dm/publish
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] ws
Running in /home/jenkins/workspace/basic-service/ISCP/evaluater-core-vkm
[Pipeline] {
[Pipeline] stage
[Pipeline] { (getcode)
[Pipeline] git
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url ssh://git@code.vipkid.com.cn:3590/basic-service/ISCP/evaluater-core-vkm.git # timeout=10
Fetching upstream changes from ssh://git@code.vipkid.com.cn:3590/basic-service/ISCP/evaluater-core-vkm.git
 > git --version # timeout=10
using GIT_SSH to set credentials node包管理系统
 > git fetch --tags --progress ssh://git@code.vipkid.com.cn:3590/basic-service/ISCP/evaluater-core-vkm.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision 69daabde8b6b70a066966ea9ea45347f20d87bfc (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 69daabde8b6b70a066966ea9ea45347f20d87bfc
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D master # timeout=10
 > git checkout -b master 69daabde8b6b70a066966ea9ea45347f20d87bfc
Commit message: "更新doc链接"
 > git rev-list --no-walk 69daabde8b6b70a066966ea9ea45347f20d87bfc # timeout=10
[Pipeline] sh
[evaluater-core-vkm] Running shell script
+ git checkout --quiet --detach 89c7faa3b825327113d9a8d83c49a62b2e9b33be
+ git status
HEAD detached at 89c7faa
Untracked files:
  (use "git add <file>..." to include in what will be committed)

	jenkins-department-l-npm-server1.prt.prod.aws.dm-publish-779.mail
	jenkins-department-l-npm-server1.prt.prod.aws.dm-publish-791.mail

nothing added to commit but untracked files present (use "git add" to track)
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (publish)
[Pipeline] fileExists
[Pipeline] sh
[evaluater-core-vkm] Running shell script
+ npm version
{ 'evaluater-core-vkm': '0.1.26',
  npm: '5.5.1',
  ares: '1.10.1-DEV',
  cldr: '31.0.1',
  http_parser: '2.7.0',
  icu: '59.1',
  modules: '57',
  nghttp2: '1.25.0',
  node: '8.9.2',
  openssl: '1.0.2m',
  tz: '2017b',
  unicode: '9.0',
  uv: '1.15.0',
  v8: '6.1.534.48',
  zlib: '1.2.11' }
[Pipeline] sh
[evaluater-core-vkm] Running shell script
+ sed -i '/^.*private.*/d' package.json
[Pipeline] sh
[evaluater-core-vkm] Running shell script
+ npm publish --registry=http://127.0.0.1:17003/
npm ERR! code EPUBLISHCONFLICT
npm ERR! publish fail Cannot publish over existing version.
npm ERR! publish fail Update the 'version' field in package.json and try again.
npm ERR! publish fail 
npm ERR! publish fail To automatically increment version numbers, see:
npm ERR! publish fail     npm help version

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2018-09-18T08_54_59_541Z-debug.log
[Pipeline] echo
hudson.AbortException: script returned exit code 1
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (post mail)
[Pipeline] sh
